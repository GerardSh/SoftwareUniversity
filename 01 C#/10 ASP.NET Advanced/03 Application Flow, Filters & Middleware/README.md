# General
## Application Flow
### Application Fundamentals
–£–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç –∑–∞—è–≤–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–µ–∂–¥–∞—Ç –æ—Ç–≥–æ–≤–æ—Ä–∏.

–¶–µ–ª–∏—è—Ç –ø—Ä–æ—Ü–µ—Å –µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–æ –ø–æ–¥—Ä–µ–¥–µ–Ω –≤ –Ω—è–∫–∞–∫—ä–≤ –≤–∏–¥ —Ç—Ä—ä–±–æ–ø—Ä–æ–≤–æ–¥ (pipeline). Pipeline-—ä—Ç –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–∞–Ω ‚Äì –∑–∞–ø–æ—á–≤–∞ —Å—ä—Å –∑–∞—è–≤–∫–∞ (request) –∏ –∑–∞–≤—ä—Ä—à–≤–∞ —Å –æ—Ç–≥–æ–≤–æ—Ä (response). –°–∞–º–∏—è—Ç —Ç—Ä—ä–±–æ–ø—Ä–æ–≤–æ–¥ –∏–º–∞ –∫—Ä–∞–Ω—á–µ—Ç–∞, –æ—Ç –∫–æ–∏—Ç–æ –∑–∞–ø–æ—á–≤–∞—Ç —Ä–∞–∑–∫–ª–æ–Ω–µ–Ω–∏—è. –ê–∫–æ —Ä–µ—à–∏–º, –º–æ–∂–µ–º –¥–∞ –æ—Ç–≤–æ—Ä–∏–º –¥–∞–¥–µ–Ω–æ –∫—Ä–∞–Ω—á–µ –∏ –¥–∞ –º–∏–Ω–µ–º –ø—Ä–µ–∑ –Ω–µ–≥–æ–≤–æ—Ç–æ —Ä–∞–∑–∫–ª–æ–Ω–µ–Ω–∏–µ, –∫–æ–µ—Ç–æ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ –≤—Ä—ä—â–∞ –æ–±—Ä–∞—Ç–Ω–æ –Ω—è–∫—ä–¥–µ –≤ —Ç—Ä—ä–±–æ–ø—Ä–æ–≤–æ–¥–∞. 
–í ASP.NET Core **application flow-—ä—Ç** —Å–µ —Ä–µ–∞–ª–∏–∑–∏—Ä–∞ —á—Ä–µ–∑ **middleware pipeline**, –∫–æ–π—Ç–æ –º–æ–∂–µ–º –¥–∞ —Å–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º –∫–∞—Ç–æ —Ç—Ä—ä–±–æ–ø—Ä–æ–≤–æ–¥. Microsoft —Å–∞ —Å–µ –ø–æ–≥—Ä–∏–∂–∏–ª–∏ –¥–∞ –Ω–∏ –¥–∞–¥–∞—Ç **"–∫—Ä–∞–Ω—á–µ—Ç–∞"** (middleware hooks), –∫–æ–∏—Ç–æ –º–æ–∂–µ–º –¥–∞ ‚Äû–æ—Ç–≤—ä—Ä—Ç–∏–º‚Äú, –∑–∞ –¥–∞ –ø—Ä–µ—Ö–≤–∞–Ω–µ–º –∑–∞—è–≤–∫–∞—Ç–∞ –Ω–∞ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –º—è—Å—Ç–æ.

–°–ª–µ–¥ –∫–∞—Ç–æ ‚Äû–æ—Ç–≤—ä—Ä—Ç–∏–º –∫—Ä–∞–Ω—á–µ—Ç–æ‚Äú (—Ç.–µ. –¥–æ–±–∞–≤–∏–º —Å–æ–±—Å—Ç–≤–µ–Ω middleware), **–æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç—Ç–∞ –µ –Ω–∞—à–∞** –¥–∞:

- –Ω–∞–ø—Ä–∞–≤–∏–º –∫–∞–∫–≤–æ—Ç–æ —Ç—Ä—è–±–≤–∞ —Å—ä—Å ‚Äû–∑–∞—è–≤–∫–∞—Ç–∞‚Äú (–≤–æ–¥–∞—Ç–∞).
- –µ–≤–µ–Ω—Ç—É–∞–ª–Ω–æ —è –ø—Ä–µ–Ω–∞—Å–æ—á–∏–º.
- –∏ –Ω–∞–π-–≤–∞–∂–Ω–æ—Ç–æ ‚Äì **–¥–∞ –∏–∑–≤–∏–∫–∞–º–µ `next()`**, –∑–∞ –¥–∞ –º–æ–∂–µ –∑–∞—è–≤–∫–∞—Ç–∞ –¥–∞ –ø—Ä–æ–¥—ä–ª–∂–∏ –ø–æ –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ —á–∞—Å—Ç –æ—Ç —Ç—Ä—ä–±–∞—Ç–∞.

–ê–∫–æ –Ω–µ –∏–∑–≤–∏–∫–∞–º–µ `next()`, –≤–æ–¥–∞—Ç–∞ –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–≤–∞ –≤ –Ω–∞—à–µ—Ç–æ —Ä–∞–∑–∫–ª–æ–Ω–µ–Ω–∏–µ –∏ –Ω–µ —Å—Ç–∏–≥–∞ –¥–æ —Ñ–∏–Ω–∞–ª–∞ (–Ω—è–º–∞ –æ—Ç–≥–æ–≤–æ—Ä –∫—ä–º –∫–ª–∏–µ–Ω—Ç–∞). –û–±—Ä–∞–∑—ä—Ç —Å –≤–æ–¥–∞—Ç–∞ –∏ —Ç—Ä—ä–±–∏—Ç–µ –µ –ø–æ–ª–µ–∑–µ–Ω –∑–∞ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∏ middleware –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ç–∞ –≤ ASP.NET Core. 

–í –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ –ø—Ä–æ—Ü–µ—Å—ä—Ç –º–æ–∂–µ –¥–∞ –±—ä–¥–µ —Ä–∞–∑—à–∏—Ä—è–≤–∞–Ω –∏ –ø—Ä–æ–º–µ–Ω—è–Ω.

–£–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞ –∏–º–∞—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ —Å—Ä–µ–¥–∏ –∑–∞ —Ä–∞–∑–≥—Ä—ä—â–∞–Ω–µ. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç —Ç–æ–≤–∞ –∫—ä–¥–µ —Å–µ –Ω–∞–º–∏—Ä–∞–º–µ ‚Äì –¥–∞–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–≤–∞–º–µ –ª–æ–∫–∞–ª–Ω–æ, —Ç–µ—Å—Ç–≤–∞–º–µ –Ω–∞ staging —Å—ä—Ä–≤—ä—Ä –∏–ª–∏ –≤–µ—á–µ —Å–º–µ –≤ –ø—Ä–æ–¥—É–∫—Ü–∏—è ‚Äì –º–æ–∂–µ –¥–∞ –∏—Å–∫–∞–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –Ω–∏ –¥–∞ —Å–µ –¥—ä—Ä–∂–∏ –ø–æ —Ä–∞–∑–ª–∏—á–µ–Ω –Ω–∞—á–∏–Ω.
–¢–æ–≤–∞ –æ–∑–Ω–∞—á–∞–≤–∞, —á–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–æ–∂–µ–º –¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–∞–º–µ "–∫—Ä–∞–Ω—á–µ—Ç–∞—Ç–∞" –≤ —Ç—Ä—ä–±–æ–ø—Ä–æ–≤–æ–¥–∞, –∞ –º–æ–∂–µ–º –¥–∞ –≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–≤–∞–º–µ –ø–æ —Ä–∞–∑–ª–∏—á–µ–Ω –Ω–∞—á–∏–Ω —Å–ø–æ—Ä–µ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –≤ –∫–æ–π—Ç–æ —Ä–∞–±–æ—Ç–∏–º.
–ú–æ–∂–µ–º –¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Ç–∞–∫–∞, —á–µ –≤ –µ–¥–Ω–∞ —Å—Ä–µ–¥–∞ –¥–∞ –ª–æ–≥–≤–∞–º–µ –ø–æ–¥—Ä–æ–±–Ω–æ –≤—Å–∏—á–∫–æ, –¥–∞ –ø–æ–∫–∞–∑–≤–∞–º–µ –≥—Ä–µ—à–∫–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –∞ –≤ –¥—Ä—É–≥–∞ ‚Äì –¥–∞ —Å–º–µ –º–∞–∫—Å–∏–º–∞–ª–Ω–æ –ø–µ—Å—Ç–µ–ª–∏–≤–∏ –∏ —Å–∏–≥—É—Ä–Ω–∏.
–ú–µ—Ö–∞–Ω–∏–∑–º—ä—Ç, —á—Ä–µ–∑ –∫–æ–π—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Ä–∞–∑–±–∏—Ä–∞ –≤ –∫–∞–∫—ä–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ –Ω–∞–º–∏—Ä–∞, —Å–µ –Ω–∞—Ä–∏—á–∞ **—Å—Ä–µ–¥–∞** (_environment_).
–°—Ä–µ–¥–∞—Ç–∞ –µ –∏–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –≤–∞–∂–Ω–∞ —á–∞—Å—Ç –æ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ç–∞ –Ω–∞ ASP.NET Core, –∑–∞—â–æ—Ç–æ –≤—ä—Ä—Ö—É –Ω–µ—è –ª–µ–∂–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω–∞ –º–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ª–æ–≥–≤–∞–Ω–µ, –∏–∑–∫–ª—é—á–µ–Ω–∏—è, —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ –¥—Ä—É–≥–∏

–°—Ä–µ–¥–∏—Ç–µ –≤ 99% –æ—Ç —Å–ª—É—á–∞–∏—Ç–µ –∑–∞—Å—è–≥–∞—Ç pipeline-a.

–£–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞ –∏–º–∞—Ç –Ω–∞—á–∞–ª–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.

–ù–∞—Å—Ç—Ä–æ–π–≤–∞—Ç —Å–µ —Ö–æ—Å—Ç, —Å–∏–≥—É—Ä–Ω–æ—Å—Ç, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∏ –¥—Ä—É–≥–∏.
### MVC Request Lifecycle
![](https://github.com/GerardSh/SoftwareUniversity/blob/main/99%20Attachments/Pasted%20image%2020250518142916.png)

–ò–º–∞–º–µ –∑–∞—è–≤–∫–∞, –∫–æ—è—Ç–æ —Ç—Ä—ä–≥–≤–∞ –ø–æ pipeline-–∞. –ü—ä—Ä–≤–æ—Ç–æ –Ω–µ—â–æ, –ø—Ä–µ–∑ –∫–æ–µ—Ç–æ –º–∏–Ω–∞–≤–∞, –µ Middleware ‚Äì –∑–µ–ª–µ–Ω–æ—Ç–æ –∫–≤–∞–¥—Ä–∞—Ç—á–µ –æ—Ç —Å—Ö–µ–º–∞—Ç–∞. –¢–æ–≤–∞ –Ω–µ –µ –µ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω middleware, –∞ –ø–æ-—Å–∫–æ—Ä–æ **placeholder –∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ middlewares**, –∫–æ–∏—Ç–æ –º–æ–∂–µ –¥–∞ —Å–º–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–ª–∏.

–°–ª–µ–¥ —Ç–æ–≤–∞ –∑–∞—è–≤–∫–∞—Ç–∞ —Å—Ç–∏–≥–∞ –¥–æ **Routing-–∞**, –∫–æ–π—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è –∫–æ–π –µ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ä—Ç –∏ –∫–æ–π –µ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è—Ç action. –°–∞–º–∏—è—Ç routing —Å—ä—â–æ –µ middleware –∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –Ω–∞–º–∏—Ä–∞ –Ω–∞ —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –º—è—Å—Ç–æ –≤ pipeline-–∞. –°–ª–µ–¥ –Ω–µ–≥–æ –º–æ–∂–µ–º –¥–∞ –∏–º–∞–º–µ –∏ –¥—Ä—É–≥–∏ middleware-–∏.

–ö–æ–≥–∞—Ç–æ —Å–µ –æ–ø—Ä–µ–¥–µ–ª–∏ –ø—Ä–∞–≤–∏–ª–Ω–∏—è—Ç –ø—ä—Ç, **—Å–µ –≤–¥–∏–≥–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è—Ç –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∏ action**, –∏ —Å–µ –ø—Ä–µ–º–∏–Ω–∞–≤–∞ –ø—Ä–µ–∑ —Ñ–∏–ª—Ç—Ä–∏—Ç–µ –≤ Action Execution.

–ü—Ä–µ–¥–∏ –¥–∞ —Å–µ —Å–ª—É—á–∏ **Model Binding**, –ø—ä—Ä–≤–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ **Authorization —Ñ–∏–ª—Ç—ä—Ä—ä—Ç**, –∫–æ–π—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –∏–º–∞ –ø—Ä–∞–≤–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø. –°–ª–µ–¥ –Ω–µ–≥–æ –∏–¥–≤–∞ **Resource —Ñ–∏–ª—Ç—ä—Ä—ä—Ç**.

–°–ª–µ–¥ —Ç–æ–≤–∞ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–∞–º–∏—è—Ç **action –º–µ—Ç–æ–¥**, –∏ –Ω–∞–∫—Ä–∞—è –º–∏–Ω–∞–≤–∞–º–µ –ø—Ä–µ–∑ **Result Execution**, –∫—ä–¥–µ—Ç–æ —Ñ–∏–ª—Ç—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∞—Ç –≤ –æ–±—Ä–∞—Ç–µ–Ω —Ä–µ–¥.

–ö–æ–≥–∞—Ç–æ —Ä–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –µ –≥–æ—Ç–æ–≤ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–∞–ª–∏ –µ View, JSON –∏–ª–∏ –Ω–µ—â–æ –¥—Ä—É–≥–æ), **View Engine-—ä—Ç** –∏–ª–∏ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è—Ç –º–µ—Ö–∞–Ω–∏–∑—ä–º **—Ä–µ–Ω–¥–µ—Ä–∏—Ä–∞ –æ—Ç–≥–æ–≤–æ—Ä–∞ –∏ –≥–æ –≤—Ä—ä—â–∞ –∫—ä–º –∫–ª–∏–µ–Ω—Ç–∞**.

–¢–æ–≤–∞ –µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—è—Ç –ø—ä—Ç, –Ω–æ –∏–º–∞–º–µ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç **–¥–∞ —Å—ä–∫—Ä–∞—Ç–∏–º –ø—Ä–æ—Ü–µ—Å–∞ –æ—â–µ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ**, –∫–∞—Ç–æ –Ω–∞–ø–∏—à–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω middleware, –∫–æ–π—Ç–æ –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤—Ä—ä—â–∞ –æ—Ç–≥–æ–≤–æ—Ä.

–ú–Ω–æ–≥–æ —á–µ—Å—Ç–æ —Ç–æ—á–Ω–æ —Ç–∞–∫–∞ —Ä–∞–±–æ—Ç–∏ **caching middleware-—ä—Ç** ‚Äì –∞–∫–æ –Ω–∞–º–µ—Ä–∏–º –æ—Ç–≥–æ–≤–æ—Ä–∞ –≤ –∫–µ—à–∞, **–Ω—è–º–∞ –Ω—É–∂–¥–∞** –¥–∞ –º–∏–Ω–∞–≤–∞–º–µ –ø—Ä–µ–∑ —Ä—É—Ç–∏—Ä–∞–Ω–µ, –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏, —Ñ–∏–ª—Ç—Ä–∏ –∏ —Ç.–Ω.

–í—Å—è–∫–∞ —á–∞—Å—Ç –æ—Ç –≤–µ—Ä–∏–≥–∞—Ç–∞ –µ —Ç–æ—á–∫–∞, –≤ –∫–æ—è—Ç–æ –º–æ–∂–µ–º –¥–∞ —Å–µ "–≤–º—ä–∫–Ω–µ–º" –∏ –ø—Ä–∏ –Ω—É–∂–¥–∞ –¥–∞ –≤—ä—Ä–Ω–µ–º –æ—Ç–≥–æ–≤–æ—Ä –≤–µ–¥–Ω–∞–≥–∞, –±–µ–∑ –¥–∞ –ø—Ä–æ–¥—ä–ª–∂–∞–≤–∞–º–µ –ø–æ —Ü–µ–ª–∏—è pipeline.
### Controller Context
–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ä—Ç –µ –µ–¥–∏–Ω –æ—Ç –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤ –ø–æ—Ç–æ–∫–∞ –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞ (Request pipeline), –∫–æ–π—Ç–æ —É–ø—Ä–∞–≤–ª—è–≤–∞ —Ü–µ–ª–∏—è –ø—Ä–æ—Ü–µ—Å.

–í—Å–µ–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∏–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–æ –ø—Ä–æ–ø—ä—Ä—Ç–∏ **`ControllerContext`**.

`ControllerContext` —Å—ä–¥—ä—Ä–∂–∞ –Ω–∞–±–æ—Ä –æ—Ç –ø–æ–ª–µ–∑–Ω–∏ –ø—Ä–æ–ø—ä—Ä—Ç–∏—Ç–∞, –∫–æ–∏—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ç–µ–∫—É—â–∞—Ç–∞ –∑–∞—è–≤–∫–∞.

–í `ControllerContext` –º–æ–∂–µ–º –¥–∞ –¥–æ—Å—Ç—ä–ø–∏–º —Å–ª–µ–¥–Ω–∏—Ç–µ –ø—Ä–æ–ø—ä—Ä—Ç–∏—Ç–∞:

`ActionDescriptor` ‚Äì –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ç–µ–∫—É—â–∏—è action, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –∞—Ç—Ä–∏–±—É—Ç–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∏ –º–µ—Ç–∞-–¥–∞–Ω–Ω–∏.

`HttpContext` ‚Äì —Å—ä–¥—ä—Ä–∂–∞ —Ü—è–ª–æ—Å—Ç–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞ HTTP –∑–∞—è–≤–∫–∞—Ç–∞, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ `Request` –∏ `Response`.

`ModelState` ‚Äì —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –æ—Ç –æ–ø–∏—Ç–∏—Ç–µ –∑–∞ –æ–±–≤—ä—Ä–∑–≤–∞–Ω–µ (binding) –Ω–∞ –¥–∞–Ω–Ω–∏ –∏ –≤–∞–ª–∏–¥–∏—Ä–∞–Ω–µ—Ç–æ –∏–º; —Ç—É–∫ –º–æ–∂–µ–º –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –¥–∞–ª–∏ –≤—Ö–æ–¥–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏ —Å–∞ –≤–∞–ª–∏–¥–Ω–∏.

`RouteData` ‚Äì —Å—ä–¥—ä—Ä–∂–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∏–∑–≤–ª–µ—á–µ–Ω–∞ –æ—Ç –º–∞—Ä—à—Ä—É—Ç–∞, –∫–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ—Ç URL –∞–¥—Ä–µ—Å–∞ –∏ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç, –ø–æ –∫–æ–π—Ç–æ –µ –º–∏–Ω–∞–ª–∞ –∑–∞—è–≤–∫–∞—Ç–∞.

`ValueProviderFactories` ‚Äì —Å–ø–∏—Å—ä–∫ —Å —Ñ–∞–±—Ä–∏–∫–∏, –∫–æ–∏—Ç–æ –¥–æ—Å—Ç–∞–≤—è—Ç —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –∑–∞ –æ–±–≤—ä—Ä–∑–≤–∞–Ω–µ –∫—ä–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ –Ω–∞ action –º–µ—Ç–æ–¥–∞ (–Ω–∞–ø—Ä. –æ—Ç —Ñ–æ—Ä–º—É–ª—è—Ä–∏, query string, route –∏ —Ç.–Ω.).
### Application Fundamentals
–í ASP.NET Core –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –∫–ª–∞—Å–∞ `Program.cs`, –∑–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º —Å–ª–µ–¥–Ω–æ—Ç–æ:

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–º–µ HTTP request pipeline-–∞. –ü—Ä–æ–º–µ–Ω—è–π–∫–∏ —Ç–∏–ø–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –¥–∞–ª–∏ –µ individual accounts –∏–ª–∏ –µ –Ω—è–∫–∞–∫—ä–≤ –¥—Ä—É–≥, —Ç–æ–≤–∞ —â–µ –ø—Ä–æ–º–µ–Ω–∏ pipeline-a.

–û–ø—Ä–µ–¥–µ–ª—è–º–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Å—Ä–µ–¥–∏.

–û—Å–Ω–æ–≤–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ (Application Fundamentals):

```csharp
if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Home/Error");
    app.UseHsts();
}
app.UseHttpsRedirection();
app.UseStaticFiles();
app.UseCookiePolicy();

app.UseMvcWithDefaultRoute();
```

–ê–∫–æ –Ω–µ —Å–º–µ –≤ —Å—Ä–µ–¥–∞ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–≤–∞–º–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∏—Ä–∞–Ω–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞–Ω–µ –Ω–∞ –≥—Ä–µ—à–∫–∏ –∏ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ HTTP Strict Transport Security.

–ü—Ä–µ–Ω–∞—Å–æ—á–≤–∞–º–µ HTTP –∑–∞—è–≤–∫–∏—Ç–µ –∫—ä–º HTTPS.

–ü–æ–∑–≤–æ–ª—è–≤–∞–º–µ –æ–±—Å–ª—É–∂–≤–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ.

–ü—Ä–∏–ª–∞–≥–∞–º–µ –ø–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –±–∏—Å–∫–≤–∏—Ç–∫–∏.

–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–º–µ MVC —Å –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞—â —Å–µ –º–∞—Ä—à—Ä—É—Ç.
### Application Environments
–î–µ–ø–ª–æ–π–º—ä–Ω—Ç—ä—Ç –Ω–∞ —Å–æ—Ñ—Ç—É–µ—Ä–∞ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª—è –≤ –Ω—è–∫–æ–ª–∫–æ —Ä–∞–∑–ª–∏—á–Ω–∏ —Å—Ä–µ–¥–∏.

–ú–Ω–æ–≥–æ–µ—Ç–∞–ø–Ω–∏—è—Ç (multi-stage) –¥–µ–ø–ª–æ–π–º—ä–Ω—Ç –µ **–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω** –ø—Ä–∏ enterprise –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–í—Å—è–∫–∞ —Å—Ä–µ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –∫–æ–º–ø—é—Ç—ä—Ä–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ (–≤–∏—Ä—Ç—É–∞–ª–Ω–∞ –∏–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∞), –≤—ä—Ä—Ö—É –∫–æ—è—Ç–æ –ø—É—Å–∫–∞–º–µ –Ω–∞—à–∏—è —Å–æ—Ñ—Ç—É–µ—Ä.

–ü–æ–≤–µ—á–µ—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ —Å—Ä–µ–¥–∏:

**Dev / Development**  ‚Äì –°—Ä–µ–¥–∞—Ç–∞, –≤ –∫–æ—è—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–≤–∞–º–µ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**Test / Testing**  ‚Äì –°—Ä–µ–¥–∞—Ç–∞, –≤ –∫–æ—è—Ç–æ —Ç–µ—Å—Ç–≤–∞–º–µ –∏ –≤–∞–ª–∏–¥–∏—Ä–∞–º–µ –ø—Ä–æ–¥—É–∫—Ç–∞ (–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞) –∫–∞—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏.

**Stage / Staging**  ‚Äì –°—Ä–µ–¥–∞—Ç–∞, –≤ –∫–æ—è—Ç–æ –∫–ª–∏–µ–Ω—Ç—ä—Ç –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç—ä—Ç –æ—Ç–≥–æ–≤–∞—Ä—è –Ω–∞ –Ω–µ–≥–æ–≤–∏—Ç–µ –æ—á–∞–∫–≤–∞–Ω–∏—è.

**Production**  ‚Äì –°—Ä–µ–¥–∞—Ç–∞, –≤ –∫–æ—è—Ç–æ –ø—Ä–æ–¥—É–∫—Ç—ä—Ç –µ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–æ –¥–æ—Å—Ç—ä–ø–µ–Ω –∑–∞ –≤—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏.

ASP.NET Core –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–ø–æ—Ä–µ–¥ —Å—Ä–µ–¥–∞—Ç–∞, –≤ –∫–æ—è—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞.

–ü–æ–¥–¥—ä—Ä–∂–∞ —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω–∏ —Å—Ä–µ–¥–∏ ‚Äì Development, Staging –∏ Production. Staging –æ–±–µ–¥–∏–Ω—è–≤–∞ Test –∏ Stage —Å—Ä–µ–¥–∏—Ç–µ.

–ß–µ—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞ —Å –∏–º–µ—Ç–æ `"ASPNETCORE_ENVIRONMENT"`.

–°—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Ç–∞–∑–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –≤ —Å–≤–æ–π—Å—Ç–≤–æ—Ç–æ `EnvironmentName` –Ω–∞ –æ–±–µ–∫—Ç–∞ `Environment`, –∫–æ–π—Ç–æ –µ —á–∞—Å—Ç –æ—Ç `WebApplication`, –≤—ä—Ä–Ω–∞—Ç –æ—Ç –º–µ—Ç–æ–¥–∞ `Build()` –Ω–∞ `WebApplicationBuilder`.

–ú–æ–∂–µ–º –¥–∞ –∑–∞–¥–∞–¥–µ–º —Å—Ä–µ–¥–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç. –ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ —Å—Ä–µ–¥–∞—Ç–∞ –µ Production.

```csharp
if(app.Environment.IsDevelopment()) // TODO: Do Development
if(app.Environment.IsStaging()) // TODO: Do Staging
if(app.Environment.IsProduction()) // TODO: Do Production
if(app.Environment.IsEnvironment("some_environment")) // TODO: Do Something
```

–ù–µ —Å–º–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏ —Å–∞–º–æ –¥–æ —Å—Ä–µ–¥–∏—Ç–µ, –∫–æ–∏—Ç–æ Microsoft –µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–ª–∞ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ.
–ú–æ–∂–µ–º —Å–≤–æ–±–æ–¥–Ω–æ –¥–∞ —Å–º–µ–Ω–∏–º —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ `"ASPNETCORE_ENVIRONMENT"` —Å —Ç–∞–∫–∞–≤–∞, –∫–∞–∫–≤–∞—Ç–æ –Ω–∏ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞.
–°–ª–µ–¥ —Ç–æ–≤–∞ –º–æ–∂–µ–º –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –º–µ—Ç–æ–¥–∞ `IsEnvironment`, –∑–∞ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –¥–∞–ª–∏ —Ç–µ–∫—É—â–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç —Å—ä–≤–ø–∞–¥–∞ —Å —Ç–∞–∑–∏, –∫–æ—è—Ç–æ —Å–º–µ –∑–∞–¥–∞–ª–∏.
–ê–∫–æ —Å—ä–≤–ø–∞–¥–∞, –º–µ—Ç–æ–¥—ä—Ç —â–µ –≤—ä—Ä–Ω–µ `true` –∏ —â–µ –º–æ–∂–µ–º –¥–∞ –≤–∑–µ–º–µ–º —Ä–µ—à–µ–Ω–∏—è –≤ –∫–æ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞.
### Application Configuration
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –≤ ASP.NET Core –µ –±–∞–∑–∏—Ä–∞–Ω–∞ –Ω–∞ –¥–≤–æ–π–∫–∏ –∫–ª—é—á-—Å—Ç–æ–π–Ω–æ—Å—Ç.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏—Ç–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–µ –∑–∞–¥–∞–≤–∞—Ç —á—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏ (configuration providers).

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏—Ç–µ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏ —á–µ—Ç–∞—Ç –¥–∞–Ω–Ω–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏.

–¢–µ–∑–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç Azure Key Vault –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –æ—Ç –∫–æ–º–∞–Ω–¥–Ω–∏—è —Ä–µ–¥.

–ú–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏ ‚Äì –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏ –∏–ª–∏ —Å—ä–∑–¥–∞–¥–µ–Ω–∏ –æ—Ç –Ω–∞—Å.

–°—ä—â–æ —Ç–∞–∫–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Ñ–∞–π–ª–æ–≤–µ –æ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞ –∏ –¥—Ä—É–≥–∏.

–ï–¥–∏–Ω –æ—Ç –∏–∑—Ç–æ—á–Ω–∏—Ü–∏—Ç–µ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –µ —Ñ–∞–π–ª—ä—Ç `appsettings.json`.

–ú–æ–∂–µ–º –¥–∞ –ø–æ–ª–∑–≤–∞–º–µ –Ω—è–∫–æ–ª–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –ø—Ä–æ–≤–∞–π–¥—ä—Ä–∞ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä `appsettings.json`, environment variables, Azure Key Vault –∏ –¥—Ä—É–≥–∏). –í—Å–∏—á–∫–∏ —Ç–µ —Å–µ –æ–±–µ–¥–∏–Ω—è–≤–∞—Ç –≤ –æ–±—â –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω store, –∫–æ–π—Ç–æ —Ä–∞–±–æ—Ç–∏ –∫–∞—Ç–æ —Ä–µ—á–Ω–∏–∫ –æ—Ç —Ç–∏–ø `Dictionary<string, string>`.

–ú–æ–∂–µ –¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–º–µ –Ω—è–∫–æ–∏ –ø—Ä–æ–≤–∞–π–¥—ä—Ä–∏ (–∫–∞—Ç–æ `appsettings.json`) –¥–∞ –Ω–∞–±–ª—é–¥–∞–≤–∞—Ç –∑–∞ –ø—Ä–æ–º–µ–Ω–∏ –≤—ä–≤ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–∞ –ø—Ä–µ–∑–∞—Ä–µ–∂–¥–∞—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ**, –±–µ–∑ –Ω—É–∂–¥–∞ –æ—Ç —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ. –¢–æ–≤–∞ —Å—Ç–∞–≤–∞ —á—Ä–µ–∑ `reloadOnChange: true`.

–ü—Ä–∏–º–µ—Ä:

```csharp
builder.Configuration.AddJsonFile("appsettings.json", optional: false, reloadOnChange: true);
```

–§–∞–π–ª—ä—Ç `launchSettings.json` —Å–µ –Ω–∞–º–∏—Ä–∞ –≤ –ø–∞–ø–∫–∞—Ç–∞ `Properties` –∏ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–∞—á–∏–Ω–∞, –ø–æ –∫–æ–π—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ –ø–æ –≤—Ä–µ–º–µ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –¢–æ–π –∑–∞–¥–∞–≤–∞ –ø—Ä–æ—Ñ–∏–ª–∏, –ø–æ—Ä—Ç–æ–≤–µ, URL-–∏ –∏ —Å—Ä–µ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä —á—Ä–µ–∑ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ `ASPNETCORE_ENVIRONMENT`), –∫–æ—è—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è —Ç–µ–∫—É—â–∞—Ç–∞ —Å—Ä–µ–¥–∞ (–Ω–∞–ø—Ä. Development). –í—ä–ø—Ä–µ–∫–∏ —Ç–æ–≤–∞, `launchSettings.json` **–Ω–µ —É—á–∞—Å—Ç–≤–∞ –≤ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`builder.Configuration`)** –∏ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–∞–º–æ –ø—Ä–∏ –ª–æ–∫–∞–ª–Ω–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ, –∫–∞—Ç–æ –Ω–µ —Å–µ —á–µ—Ç–µ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –ø—Ä–∏ runtime.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–µ —á–µ—Ç–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ –ø—Ä–æ–≤–∞–π–¥—ä—Ä–∏.

–í—Å–∏—á–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –∏ –¥–æ—Å—Ç—ä–ø–≤–∞—Ç —á—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `IConfiguration`.

`IConfiguration` –µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –∏ –º–æ–∂–µ –¥–∞ —Å–µ –∏–Ω–∂–µ–∫—Ç–∏—Ä–∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –∏–ª–∏ –¥—Ä—É–≥–∏ —É—Å–ª—É–≥–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∞–∫–æ –∏–º–∞–º–µ –≤ `appsettings.json`:

```json
{
  "Greeting": "Hello!",
  "Config": {
    "Secret": "Can‚Äôt touch this"
  }
}
```

–≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ –º–æ–∂–µ–º –¥–∞ –ø–æ–ª—É—á–∏–º —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ —Ç–∞–∫–∞:

```csharp
public class HomeController : Controller
{
    private readonly IConfiguration config;
    
    public HomeController(IConfiguration config)
    {
        this.config = config;
    }
    
    public IActionResult Config()
    {
        return Content(this.config["Greeting"] + " " + this.config["Config:Secret"]); // returns "Hello! Can‚Äôt touch this"
    }
}
```

–ú–æ–∂–µ–º –¥–∞ –¥–æ—Å—Ç—ä–ø–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ –¥–≤–∞ –Ω–∞—á–∏–Ω–∞: —Å `configuration["Key"]`, –∫–æ–π—Ç–æ –≤—Ä—ä—â–∞ –≤–∏–Ω–∞–≥–∏ `string?`, –∏ —Å `configuration.GetValue<T>("Key")`, –∫–æ–π—Ç–æ –≤—Ä—ä—â–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –∫–∞—Ç–æ –¥–∞–¥–µ–Ω —Ç–∏–ø (–Ω–∞–ø—Ä. `int`, `bool`) –∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –∑–∞–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ. –í—Ç–æ—Ä–∏—è—Ç –≤–∞—Ä–∏–∞–Ω—Ç –µ –ø–æ-–≥—ä–≤–∫–∞–≤ –∏ –±–µ–∑–æ–ø–∞—Å–µ–Ω –ø—Ä–∏ –Ω—É–∂–¥–∞ –æ—Ç —Ç–∏–ø–∏–∑–∏—Ä–∞–Ω–∏ –¥–∞–Ω–Ω–∏.

–í—Å–∏—á–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏, —Å–µ –æ–±–µ–¥–∏–Ω—è–≤–∞—Ç –≤—ä–≤ –≤—ä—Ç—Ä–µ—à–µ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ä–µ—á–Ω–∏–∫ –æ—Ç —Ç–∏–ø `IConfiguration`, –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –∫–ª—é—á–æ–≤–µ –æ—Ç —Ç–∏–ø `string`. –ö–æ–≥–∞—Ç–æ –∏–º–∞–º–µ –≤–ª–æ–∂–µ–Ω–∏ –æ–±–µ–∫—Ç–∏, –¥–æ—Å—Ç—ä–ø–≤–∞–º–µ —Ç–µ—Ö–Ω–∏—Ç–µ –ø—Ä–æ–ø—ä—Ä—Ç–∏—Ç–∞ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ –¥–≤–æ–µ—Ç–æ—á–∏–µ (`:`) –∫–∞—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª –º–µ–∂–¥—É –Ω–∏–≤–∞—Ç–∞. –ü—Ä–∏–º–µ—Ä:

```json
{
  "ConnectionStrings": {
    "SQLServer": "Server=.;Database=MyDb;Trusted_Connection=True;"
  }
}
```

–ú–æ–∂–µ–º –¥–∞ –¥–æ—Å—Ç—ä–ø–∏–º —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ —Å—ä—Å:

```csharp
config["ConnectionStrings:SQLServer"]
```

–¢–æ–≤–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –µ –µ–¥–Ω–∞–∫–≤–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–∞–ª–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –∏–¥–≤–∞ –æ—Ç JSON —Ñ–∞–π–ª, XML —Ñ–∞–π–ª, environment –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –∏–ª–∏ –¥—Ä—É–≥ provider. –¢–æ–≤–∞ –ø–æ–∑–≤–æ–ª—è–≤–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏ —á—Ä–µ–∑ –∫–ª—é—á–æ–≤–µ —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ (`:`), –∫–æ–∏—Ç–æ –æ–ø–∏—Å–≤–∞—Ç –ø—ä—Ç—è –¥–æ –≤–ª–æ–∂–µ–Ω–∏—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏.
# Misc
# ChatGPT
## Configuration Model
So at the beginning of an ASP.NET application, is the configuration being built and loaded into a key-value structure, similar to a dictionary, where both keys and values are strings?

**ChatGPT said:**

Yes, exactly ‚Äî your understanding is correct.

Here‚Äôs what happens step by step:

1. **`WebApplication.CreateBuilder(args)`**  
    This initializes the **`WebApplicationBuilder`**, which:
    
    - Loads configuration from sources (like `appsettings.json`, environment variables, etc.).
        
    - Sets up the **dependency injection (DI) container**.
        
    - Prepares logging, environment info, and other infrastructure.
        
2. **`builder.Configuration.GetConnectionString("SQLServer")`**  
    This retrieves the connection string defined in your configuration (most often from `appsettings.json`).
    
3. **`builder.Services`**  
    This is where you register services (like `DbContexts`, identity, middleware-related services, custom services, etc.) into the **DI container**, so they can be injected and used throughout the app.

So in short:  
‚úÖ The builder reads and prepares the configuration.  
‚úÖ Then you register the services.  
‚úÖ After that, you build and run the app.

**You said:**

All the configuration settings are available in the builder, and when we call `GetConnectionString("SQLServer")`, are we just retrieving the value associated with the "`SQLServer`" key from the configuration system?

**ChatGPT said:**

Yes ‚Äî that's exactly how it works behind the scenes.

Here's the breakdown:

- When you call `WebApplication.CreateBuilder(args)`, the builder loads configuration from various sources (like `appsettings.json`, `environment variables`, `user secrets`, etc.).
    
- All these sources are merged into a **single configuration system**, which behaves like a **key-value dictionary** (`IConfiguration` under the hood).

So when you write:

```csharp
string connectionString = builder.Configuration.GetConnectionString("SQLServer");
```

You're effectively doing this:

- Look for a key named **"`ConnectionStrings:SQLServer`"** in the configuration data.
    
- If found, return its value.

The `.GetConnectionString("SQLServer")` method is just a helper that looks up the key using the prefix `ConnectionStrings:`.

**Example:**

In `appsettings.json`:

```json
{
  "ConnectionStrings": {
    "SQLServer": "Server=.;Database=MyDb;Trusted_Connection=True;"
  }
}
```

This will be flattened into the key:

```
ConnectionStrings:SQLServer ‚Üí "Server=.;Database=MyDb;Trusted_Connection=True;"
```

So yes ‚Äî the `Configuration` is just a dictionary-like store, and you‚Äôre asking for a specific key when calling `.GetConnectionString()`.
## Two main ways to access configuration values in ASP.NET Core
‚úÖ **Option 1: `configuration["KeyPath"]` (Indexer Access)**

**Example:**

```csharp
var value = configuration["Logging:LogLevel:Default"];
```

**Characteristics:**

- **Returns `string?`** (nullable string).
    
- Simple and direct.
    
- **No type conversion** ‚Äì it's always a string or `null`.
    
- If the key doesn't exist ‚Üí returns `null`.

‚úÖ **Option 2: `configuration.GetValue<T>("KeyPath")`**

**Example:**

```csharp
var value = configuration.GetValue<string>("Logging:LogLevel:Default");
```

**Characteristics:**

- **Strongly typed** access.
    
- **Performs conversion** from string to the type you request (`int`, `bool`, etc).
    
- If the key doesn't exist ‚Üí returns `default(T)` (e.g., `null` for `string`, `0` for `int`, etc).
    
- You can also specify a fallback default value:

```csharp
var level = configuration.GetValue("Logging:LogLevel:Default", "Info");
```

üîç **Which One to Use?**

|Use Case|Prefer This|
|---|---|
|You just need a string|Either works|
|You need to convert to a number/bool|`GetValue<T>()`|
|You want to specify a fallback value|`GetValue<T>()`|
|You want to bind an entire section|`GetSection()` (separate topic)|
|You don‚Äôt care about null safety|Indexer is fine|

üìù **Summary**

- Use `configuration["Key"]` for **quick string access**.
    
- Use `configuration.GetValue<T>()` for **type-safe and fallback-friendly access**.
# Bookmarks
Completion: 19.05.2025